<%- include('../partials/header.ejs') %>

    <main class="post-view-container">
        <div class="post-view-card">
            <div class="post-view-header">
                <h1><%= post.title %></h1>
                <div class="post-meta">
                    <span><i class="fas fa-calendar"></i> <%= new Date(post.createdAt).toLocaleDateString() %></span>
                    <span><i class="fas fa-clock"></i> <%= new Date(post.createdAt).toLocaleTimeString() %></span>
                    <% if(post.updatedAt) { %>
                        <span><i class="fas fa-pencil-alt"></i> Updated: <%= new Date(post.updatedAt).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' }) %></span>
                    <% } %>
                </div>
            </div>
            <div class="post-content">
                <%= post.content %>
            </div>
            <div class="post-actions">
                <button class="back-btn" onclick="window.location.href='/'">
                    <i class="fas fa-arrow-left"></i> Back to Home
                </button>
                <button class="edit-btn" onclick="window.location.href='/edit/<%= post.id %>'">
                    <i class="fas fa-edit"></i> Edit Post
                </button>
                <form action="/delete-post/<%= post.id %>?_method=DELETE" method="POST" style="display:inline;">
                    <button class="delete-btn" type="submit" onclick="return confirm('Are you sure you want to delete this post? This action cannot be undone.');">
                        <i class="fas fa-trash"></i> Delete
                    </button>
                </form>
            </div>
        </div>
    </main>
    
<%- include('../partials/footer.ejs') %>
